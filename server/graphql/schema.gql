# -------------
# Queries

type Query {
  allWords: [Word!]!
  getTag(id: Int!): Tag!
  getUser(id: Int!): User!
  getWord(id: Int!): Word!
  getWordDef(id: Int!): WordData!
}

# -------------
# Mutations

type Mutation {
  authGoogle(accessToken: String!): User!
  updateUser(user: UpdateUserData!): User!
  addWordDef(wordDefData: AddWordData!): WordData!
  addWord(wordData: AddWordDef!): Word!
}

# -------------
# Types

type User {
  id: Int!
  token: String
  email: String!
  username: String!
  role: String!
  createdAt: Date!
  updatedAt: Date!
  words: [Word!]!
  wordDefs: [WordData!]!
}

type Word {
  id: Int!
  word: String!
  isPublish: Boolean!
  createdAt: Date!
  updatedAt: Date!
  wordData: [WordData!]!
  relatedTerms: [Word!]!
}

type WordData {
  id: Int!
  word_id: Int!
  user_id: Int!
  upvotes: Int!
  definition: String!
  createdAt: Date!
  updatedAt: Date!
  word: Word!
  user: User!
  tags: [Tag!]!
}

type Tag {
  id: Int!
  tag: String!
  createdAt: Date!
  updatedAt: Date!
  wordsDefs: [WordData!]!
}

# -------------
# Input types

input UpdateUserData {
  email: String
  username: String
}

input AddWordDef {
  word_id: Int!
  definition: String!
}

input AddWordData {
  word: String!
  tags: [AddWordDataTag!]
  definition: String!
}

input AddWordDataTag {
  tag: String!
}

# -------------
# Scalars

scalar Date
